obyazannosti-rukovodstva-ESUPB
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B7 функции руководства ДОиО</title>
    <!-- Подключение Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
    <!-- Иконки Bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <style>
        body {
            background-color: #f8f9fa;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }
        .main-container {
            max-width: 1140px;
        }
        .nav-tabs .nav-link {
            color: #495057;
            border-bottom-width: 2px;
        }
        .nav-tabs .nav-link.active {
            color: #0d6efd;
            border-color: #dee2e6 #dee2e6 #fff;
            border-bottom: 2px solid #0d6efd;
        }
        /* Стиль для контейнера с буквой */
        .letter-box {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 60px;
            height: 40px;
            background-color: #e9ecef; /* Светло-серый фон */
            color: #212529; /* Черный текст */
            font-weight: bold;
            font-size: 0.9rem;
            border-radius: 0.375rem;
            margin-right: 1rem;
            flex-shrink: 0;
            border: 1px solid #0d6efd; /* Тонкая синяя рамка */
        }
        .card-text {
            font-size: 0.9rem;
        }

        /* --- НОВЫЕ СТИЛИ ДЛЯ ПЕЧАТИ --- */
        @media print {
            body {
                background-color: #ffffff !important;
                -webkit-print-color-adjust: exact; /* Для Chrome/Safari */
                print-color-adjust: exact; /* Стандарт */
            }

            /* Скрываем ненужные элементы при печати */
            #export-buttons-container,
            #myTab,
            script {
                display: none !important;
            }
            
            /* Показываем содержимое всех вкладок, чтобы они шли друг за другом */
            .tab-content > .tab-pane {
                display: block !important;
                opacity: 1 !important;
                visibility: visible !important;
                page-break-before: always; /* Начинаем каждую секцию с новой страницы (в режиме ленты это создаст отступ) */
            }
             .tab-content > .tab-pane:first-child {
                page-break-before: auto;
            }

            /* Убираем разрывы страниц внутри элементов и сбрасываем тени/отступы */
            .main-container, .card, .list-group-item {
                page-break-inside: avoid;
            }
            
            .main-container {
                 max-width: 100% !important;
                 margin: 0 !important;
                 padding: 0 !important;
                 box-shadow: none !important;
            }

            .card {
                box-shadow: none !important;
                border: 1px solid #ddd !important;
            }
            
            /* Сохраняем цветные элементы при печати */
            .letter-box {
                 background-color: #e9ecef !important;
                 color: #212529 !important;
                 border: 1px solid #0d6efd !important;
            }

            .text-primary {
                color: #0d6efd !important;
            }
        }
        /* --- КОНЕЦ СТИЛЕЙ ДЛЯ ПЕЧАТИ --- */

    </style>
</head>
<body>

    <div class="container main-container mt-4 mb-5">
        <h4 id="main-title" class="text-center mb-4">B7 функции руководства ДОиО</h4>
        <div id="export-buttons-container" class="text-center mb-4">
            <!-- --- НОВАЯ КНОПКА ПЕЧАТИ --- -->
            <button id="print-btn" class="btn btn-info text-white btn-sm"><i class="bi bi-printer me-2"></i>Печать лентой</button>
            <button id="export-btn-100" class="btn btn-secondary btn-sm"><i class="bi bi-file-earmark-pdf me-2"></i>Экспорт в PDF (100%)</button>
            <button id="export-btn-90" class="btn btn-secondary btn-sm"><i class="bi bi-file-earmark-pdf me-2"></i>Экспорт в PDF (90%)</button>
            <button id="export-btn-80" class="btn btn-secondary btn-sm"><i class="bi bi-file-earmark-pdf me-2"></i>Экспорт в PDF (80%)</button>
        </div>

        <!-- Навигационный бар с вкладками -->
        <ul class="nav nav-tabs nav-fill mb-4" id="myTab" role="tablist">
            <!-- Новые вкладки -->
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="leadership-tab" data-bs-toggle="tab" data-bs-target="#leadership-pane" type="button" role="tab" aria-controls="leadership-pane" aria-selected="true"><i class="bi bi-person-check me-2"></i>Руководство</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="organization-tab" data-bs-toggle="tab" data-bs-target="#organization-pane" type="button" role="tab" aria-controls="organization-pane" aria-selected="false"><i class="bi bi-building-gear me-2"></i>Организация</button>
            </li>
             <li class="nav-item" role="presentation">
                <button class="nav-link" id="processes-tab" data-bs-toggle="tab" data-bs-target="#processes-pane" type="button" role="tab" aria-controls="processes-pane" aria-selected="false"><i class="bi bi-list-check me-2"></i>Процессы</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="analysis-tab" data-bs-toggle="tab" data-bs-target="#analysis-pane" type="button" role="tab" aria-controls="analysis-pane" aria-selected="false"><i class="bi bi-clipboard-data me-2"></i>Анализ</button>
            </li>
        </ul>

        <!-- Содержимое вкладок -->
        <div class="tab-content" id="myTabContent">
            
            <!-- Новая вкладка: Руководство и ответственность -->
            <div class="tab-pane fade show active p-4" id="leadership-pane" role="tabpanel" aria-labelledby="leadership-tab">
                <h5 class="text-center mb-4">Руководство и ответственность</h5>
                <div class="row row-cols-1 row-cols-md-2 g-4">
                    <div class="col"><div class="card h-100 shadow-sm"><div class="card-body p-3 d-flex align-items-center"><span class="letter-box">Б.7.1.1</span><p class="card-text mb-0"><b>Осуществляет</b> общее руководство деятельностью ДОиО в области обеспечения производственной безопасности.</p></div></div></div>
                    <div class="col"><div class="card h-100 shadow-sm"><div class="card-body p-3 d-flex align-items-center"><span class="letter-box">Б.7.1.2</span><p class="card-text mb-0"><b>Несет</b> ответственность за функционирование ЕСУПБ в целом по ДОиО.</p></div></div></div>
                    <div class="col"><div class="card h-100 shadow-sm"><div class="card-body p-3 d-flex align-items-center"><span class="letter-box">Б.7.1.7</span><p class="card-text mb-0"><b>Распределяет</b> ответственность между своими заместителями, руководителями структурных подразделений и работниками.</p></div></div></div>
                    <div class="col"><div class="card h-100 shadow-sm"><div class="card-body p-3 d-flex align-items-center"><span class="letter-box">Б.7.1.11</span><p class="card-text mb-0"><b>Демонстрирует</b> лидерство и приверженность в отношении ЕСУПБ.</p></div></div></div>
                     <div class="col"><div class="card h-100 shadow-sm"><div class="card-body p-3 d-flex align-items-center"><span class="letter-box">Б.7.1.10</span><p class="card-text mb-0"><b>Привлекает</b> к дисциплинарной ответственности работников за нарушения.</p></div></div></div>
                </div>
            </div>

            <!-- Новая вкладка: Организация и ресурсы -->
            <div class="tab-pane fade p-4" id="organization-pane" role="tabpanel" aria-labelledby="organization-tab">
                <h5 class="text-center mb-4">Организация и ресурсы</h5>
                <div class="row row-cols-1 row-cols-md-2 g-4">
                    <div class="col"><div class="card h-100 shadow-sm"><div class="card-body p-3 d-flex align-items-center"><span class="letter-box">Б.7.1.3</span><p class="card-text mb-0"><b>Обязан обеспечить</b> соблюдение требований законодательных и нормативных актов.</p></div></div></div>
                    <div class="col"><div class="card h-100 shadow-sm"><div class="card-body p-3 d-flex align-items-center"><span class="letter-box">Б.7.1.4</span><p class="card-text mb-0"><b>Назначает</b> распорядительным документом представителя руководства по ЕСУПБ.</p></div></div></div>
                    <div class="col"><div class="card h-100 shadow-sm"><div class="card-body p-3 d-flex align-items-center"><span class="letter-box">Б.7.1.5</span><p class="card-text mb-0"><b>Предоставляет</b> ресурсы (финансовые, материальные, кадровые), необходимые для ЕСУПБ.</p></div></div></div>
                    <div class="col"><div class="card h-100 shadow-sm"><div class="card-body p-3 d-flex align-items-center"><span class="letter-box">Б.7.1.6</span><p class="card-text mb-0"><b>Определяет</b> роли работников, их функциональные обязанности, ответственность и полномочия.</p></div></div></div>
                    <div class="col"><div class="card h-100 shadow-sm"><div class="card-body p-3 d-flex align-items-center"><span class="letter-box">Б.7.1.8</span><p class="card-text mb-0"><b>Организует</b> работу подчиненных подразделений по выполнению обязательств Политики.</p></div></div></div>
                    <div class="col"><div class="card h-100 shadow-sm"><div class="card-body p-3 d-flex align-items-center"><span class="letter-box">Б.7.1.9</span><p class="card-text mb-0"><b>Организует и обеспечивает</b> взаимодействие с контрольно-надзорными органами.</p></div></div></div>
                    <div class="col"><div class="card h-100 shadow-sm"><div class="card-body p-3 d-flex align-items-center"><span class="letter-box">Б.7.1.9</span><p class="card-text mb-0"><b>Утверждает</b> цели ДОиО в области производственной безопасности и обеспечивает их достижение.</p></div></div></div>
                    <div class="col"><div class="card h-100 shadow-sm"><div class="card-body p-3 d-flex align-items-center"><span class="letter-box">Б.7.1.13</span><p class="card-text mb-0"><b>Получает</b> дополнительное проф. образование и проходит аттестацию в области ПБ.</p></div></div></div>
                </div>
            </div>

            <!-- Новая вкладка: Обеспечение процессов -->
            <div class="tab-pane fade p-4" id="processes-pane" role="tabpanel" aria-labelledby="processes-tab">
                 <h5 class="text-center mb-4">Обеспечение и организация процессов</h5>
                 <div class="row row-cols-1 row-cols-md-2 g-4">
                    <div class="col"><div class="card h-100 shadow-sm"><div class="card-body p-3 d-flex align-items-center"><span class="letter-box">Б.7.1.12</span><p class="card-text mb-0"><b>Обеспечивает</b> гарантии работникам прав на охрану труда.</p></div></div></div>
                    <div class="col"><div class="card h-100 shadow-sm"><div class="card-body p-3 d-flex align-items-center"><span class="letter-box">Б.7.1.12</span><p class="card-text mb-0"><b>Обеспечивает</b> создание работникам ДОиО здоровых и безопасных условий труда.</p></div></div></div>
                    <div class="col"><div class="card h-100 shadow-sm"><div class="card-body p-3 d-flex align-items-center"><span class="letter-box">Б.7.1.12</span><p class="card-text mb-0"><b>Организует</b> процесс управления рисками на объектах ДОиО.</p></div></div></div>
                    <div class="col"><div class="card h-100 shadow-sm"><div class="card-body p-3 d-flex align-items-center"><span class="letter-box">Б.7.1.12</span><p class="card-text mb-0"><b>Обеспечивает</b> комплектование службы охраны труда квалифицированными специалистами.</p></div></div></div>
                    <div class="col"><div class="card h-100 shadow-sm"><div class="card-body p-3 d-flex align-items-center"><span class="letter-box">Б.7.1.12</span><p class="card-text mb-0"><b>Обеспечивает</b> исправное состояние и безопасную эксплуатацию производственных объектов.</p></div></div></div>
                    <div class="col"><div class="card h-100 shadow-sm"><div class="card-body p-3 d-flex align-items-center"><span class="letter-box">Б.7.1.12</span><p class="card-text mb-0"><b>Организует</b> контроль выполнения обязанностей по ПБ своими заместителями.</p></div></div></div>
                    <div class="col"><div class="card h-100 shadow-sm"><div class="card-body p-3 d-flex align-items-center"><span class="letter-box">Б.7.1.12</span><p class="card-text mb-0"><b>Организует</b> проведение и ознакомление работников с результатами СОУТ.</p></div></div></div>
                    <div class="col"><div class="card h-100 shadow-sm"><div class="card-body p-3 d-flex align-items-center"><span class="letter-box">Б.7.1.12</span><p class="card-text mb-0"><b>Организует</b> размещение на сайте сводных данных о результатах СОУТ.</p></div></div></div>
                    <div class="col"><div class="card h-100 shadow-sm"><div class="card-body p-3 d-flex align-items-center"><span class="letter-box">Б.7.1.12</span><p class="card-text mb-0"><b>Обеспечивает</b> функционирование системы мотивации работников.</p></div></div></div>
                    <div class="col"><div class="card h-100 shadow-sm"><div class="card-body p-3 d-flex align-items-center"><span class="letter-box">Б.7.1.12</span><p class="card-text mb-0"><b>Обеспечивает</b> соблюдение персоналом дисциплины труда и требований ПБ.</p></div></div></div>
                    <div class="col"><div class="card h-100 shadow-sm"><div class="card-body p-3 d-flex align-items-center"><span class="letter-box">Б.7.1.12</span><p class="card-text mb-0"><b>Обеспечивает</b> обязательное социальное страхование работников.</p></div></div></div>
                    <div class="col"><div class="card h-100 shadow-sm"><div class="card-body p-3 d-flex align-items-center"><span class="letter-box">Б.7.1.12</span><p class="card-text mb-0"><b>Обеспечивает</b> обязательное страхование гражданской ответственности владельца ОПО.</p></div></div></div>
                    <div class="col"><div class="card h-100 shadow-sm"><div class="card-body p-3 d-flex align-items-center"><span class="letter-box">Б.7.1.12</span><p class="card-text mb-0"><b>Обеспечивает</b> санитарно-бытовое и лечебно-профилактическое обслуживание работников.</p></div></div></div>
                 </div>
            </div>

            <!-- Новая вкладка: Анализ и контроль -->
             <div class="tab-pane fade p-4" id="analysis-pane" role="tabpanel" aria-labelledby="analysis-tab">
                <h5 class="text-center mb-4">Анализ и контроль</h5>
                 <div class="row row-cols-1 row-cols-md-2 g-4">
                    <div class="col"><div class="card h-100 shadow-sm"><div class="card-body p-3 d-flex align-items-center"><span class="letter-box">Б.7.1.14</span><p class="card-text mb-0">Ежегодно <b>проводит</b> анализ функционирования ЕСУПБ, ежеквартально — контроль выполнения задач в области ПБ.</p></div></div></div>
                    <div class="col"><div class="card h-100 shadow-sm"><div class="card-body p-3 d-flex align-items-center"><span class="letter-box">Б.7.1.15</span><p class="card-text mb-0"><b>Принимает</b> решение о проведении смотров-конкурсов состояния производственной безопасности в филиалах.</p></div></div></div>
                 </div>
             </div>


        </div>
    </div>

    <!-- Подключение библиотек для экспорта и Bootstrap JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>

    <script>
        // --- СТАРЫЙ КОД ДЛЯ PDF ---
        const exportBtn100 = document.getElementById('export-btn-100');
        const exportBtn90 = document.getElementById('export-btn-90');
        const exportBtn80 = document.getElementById('export-btn-80');
        const mainContainer = document.querySelector('.main-container');
        const navTabs = document.getElementById('myTab');
        const exportButtonsContainer = document.getElementById('export-buttons-container');

        const exportToPdf = (zoomLevel, filenameSuffix) => {
            navTabs.style.display = 'none';
            exportButtonsContainer.style.display = 'none';
            
            const originalTransform = mainContainer.style.transform;
            mainContainer.style.transformOrigin = 'top left';
            mainContainer.style.transform = `scale(${zoomLevel})`;

            const opt = {
                margin:       [0.1, 0.1, 0.1, 0.1],
                filename:     `policy-obligations-${filenameSuffix}.pdf`,
                image:        { type: 'jpeg', quality: 0.98 },
                html2canvas:  { scale: 2 / zoomLevel, useCORS: true, logging: false },
                jsPDF:        { unit: 'in', format: 'a4', orientation: 'portrait' }
            };

            html2pdf().from(mainContainer).set(opt).save().then(() => {
                mainContainer.style.transform = originalTransform;
                navTabs.style.display = '';
                exportButtonsContainer.style.display = '';
            });
        };

        exportBtn100.addEventListener('click', () => exportToPdf(1.0, '100-percent'));
        exportBtn90.addEventListener('click', () => exportToPdf(0.9, '90-percent'));
        exportBtn80.addEventListener('click', () => exportToPdf(0.8, '80-percent'));

        // --- НОВЫЙ КОД ДЛЯ ПЕЧАТИ ЛЕНТОЙ ---
        const printBtn = document.getElementById('print-btn');
        printBtn.addEventListener('click', () => {
            window.print();
        });
    </script>
</body>
</html>

